{
    "openapi": "3.0.2",
    "info": {
        "title": "User Service API",
        "version": "2023-01-01",
        "description": "A service for managing user accounts with full CRUD operations and search capabilities. This service provides comprehensive user management functionality including user registration and authentication, profile management and updates, user search and listing with pagination, and account status management (active, inactive, suspended)."
    },
    "paths": {
        "/users": {
            "get": {
                "description": "Lists users with pagination and search capabilities. Returns a paginated list of users with optional search functionality. Search can be performed across username, email, first name, and last name fields. Supports pagination with configurable page size (max 100 users per page).",
                "operationId": "ListUsers",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number for pagination. Starts from 1. Default is 1.",
                        "schema": {
                            "type": "number",
                            "default": 1,
                            "minimum": 1,
                            "description": "Page number for pagination. Starts from 1. Default is 1."
                        }
                    },
                    {
                        "name": "size",
                        "in": "query",
                        "description": "Number of users per page. Maximum 100, default is 20.",
                        "schema": {
                            "type": "number",
                            "default": 20,
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Number of users per page. Maximum 100, default is 20."
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search term to filter users by username, email, first name, or last name.",
                        "schema": {
                            "type": "string",
                            "maxLength": 100,
                            "description": "Search term to filter users by username, email, first name, or last name."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "ListUsers 200 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ListUsersResponseContent"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Creates a new user account. Registers a new user with the provided information. The username and email must be unique across the system. Password requirements include minimum length of 6 characters.",
                "operationId": "CreateUser",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateUserRequestContent"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "CreateUser 201 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CreateUserResponseContent"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ValidationError 400 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponseContent"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "ConflictError 409 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ConflictErrorResponseContent"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/{userId}": {
            "delete": {
                "description": "Deletes a user account. Permanently removes a user account from the system. This operation cannot be undone. Consider using status updates for soft deletion instead.",
                "operationId": "DeleteUser",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "DeleteUser 200 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DeleteUserResponseContent"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "NotFoundError 404 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundErrorResponseContent"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "description": "Retrieves a user by their unique identifier. Returns the complete user profile information including status and timestamps. The user ID must be a valid UUID format.",
                "operationId": "GetUser",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "schema": {
                            "type": "string"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "GetUser 200 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GetUserResponseContent"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "NotFoundError 404 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundErrorResponseContent"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "description": "Updates an existing user's profile information. Allows partial updates to user profile fields including first name, last name, and email address. All fields are optional in the update request.",
                "operationId": "UpdateUser",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserRequestContent"
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "Unique identifier of the user to update. Must be a valid UUID.",
                        "schema": {
                            "type": "string",
                            "description": "Unique identifier of the user to update. Must be a valid UUID."
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "UpdateUser 200 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UpdateUserResponseContent"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ValidationError 400 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponseContent"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "NotFoundError 404 response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundErrorResponseContent"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ConflictErrorResponseContent": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    }
                },
                "required": [
                    "message"
                ]
            },
            "CreateUserRequestContent": {
                "type": "object",
                "properties": {
                    "username": {
                        "type": "string",
                        "maxLength": 50,
                        "minLength": 3,
                        "description": "Unique username for the user account. Must be between 3-50 characters and unique across the system."
                    },
                    "email": {
                        "type": "string",
                        "pattern": "^[^@]+@[^@]+\\.[^@]+$",
                        "description": "User's email address. Must be a valid email format and unique across the system."
                    },
                    "password": {
                        "type": "string",
                        "maxLength": 100,
                        "minLength": 6,
                        "description": "User's password. Must be at least 6 characters long for security purposes."
                    },
                    "firstName": {
                        "type": "string",
                        "maxLength": 100,
                        "minLength": 1,
                        "description": "User's first name. Optional field for personal identification."
                    },
                    "lastName": {
                        "type": "string",
                        "maxLength": 100,
                        "minLength": 1,
                        "description": "User's last name. Optional field for personal identification."
                    }
                },
                "required": [
                    "email",
                    "password",
                    "username"
                ]
            },
            "CreateUserResponseContent": {
                "type": "object",
                "properties": {
                    "userId": {
                        "type": "string",
                        "description": "Unique identifier for the user account. Generated automatically upon creation."
                    },
                    "username": {
                        "type": "string",
                        "description": "User's unique username. Cannot be changed after account creation."
                    },
                    "email": {
                        "type": "string",
                        "description": "User's email address. Used for notifications and account recovery."
                    },
                    "firstName": {
                        "type": "string",
                        "description": "User's first name. May be null if not provided during registration."
                    },
                    "lastName": {
                        "type": "string",
                        "description": "User's last name. May be null if not provided during registration."
                    },
                    "status": {
                        "$ref": "#/components/schemas/UserStatus"
                    },
                    "createdAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was created. ISO 8601 format.",
                        "format": "double"
                    },
                    "updatedAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was last updated. ISO 8601 format.",
                        "format": "double"
                    }
                },
                "required": [
                    "createdAt",
                    "email",
                    "status",
                    "updatedAt",
                    "userId",
                    "username"
                ]
            },
            "DeleteUserResponseContent": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    },
                    "deleted": {
                        "type": "boolean"
                    }
                },
                "required": [
                    "deleted",
                    "message"
                ]
            },
            "GetUserResponseContent": {
                "type": "object",
                "properties": {
                    "userId": {
                        "type": "string",
                        "description": "Unique identifier for the user account. Generated automatically upon creation."
                    },
                    "username": {
                        "type": "string",
                        "description": "User's unique username. Cannot be changed after account creation."
                    },
                    "email": {
                        "type": "string",
                        "description": "User's email address. Used for notifications and account recovery."
                    },
                    "firstName": {
                        "type": "string",
                        "description": "User's first name. May be null if not provided during registration."
                    },
                    "lastName": {
                        "type": "string",
                        "description": "User's last name. May be null if not provided during registration."
                    },
                    "status": {
                        "$ref": "#/components/schemas/UserStatus"
                    },
                    "createdAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was created. ISO 8601 format.",
                        "format": "double"
                    },
                    "updatedAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was last updated. ISO 8601 format.",
                        "format": "double"
                    }
                },
                "required": [
                    "createdAt",
                    "email",
                    "status",
                    "updatedAt",
                    "userId",
                    "username"
                ]
            },
            "ListUsersResponseContent": {
                "type": "object",
                "properties": {
                    "users": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/UserResponse"
                        }
                    },
                    "page": {
                        "type": "number"
                    },
                    "size": {
                        "type": "number"
                    },
                    "total": {
                        "type": "number"
                    },
                    "totalPages": {
                        "type": "number"
                    }
                },
                "required": [
                    "page",
                    "size",
                    "total",
                    "totalPages",
                    "users"
                ]
            },
            "NotFoundErrorResponseContent": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    }
                },
                "required": [
                    "message"
                ]
            },
            "UpdateUserRequestContent": {
                "type": "object",
                "properties": {
                    "firstName": {
                        "type": "string",
                        "maxLength": 100,
                        "minLength": 1,
                        "description": "Updated first name. Optional field - only provided if changing."
                    },
                    "lastName": {
                        "type": "string",
                        "maxLength": 100,
                        "minLength": 1,
                        "description": "Updated last name. Optional field - only provided if changing."
                    },
                    "email": {
                        "type": "string",
                        "pattern": "^[^@]+@[^@]+\\.[^@]+$",
                        "description": "Updated email address. Must be valid email format and unique across system."
                    }
                }
            },
            "UpdateUserResponseContent": {
                "type": "object",
                "properties": {
                    "userId": {
                        "type": "string",
                        "description": "Unique identifier for the user account. Generated automatically upon creation."
                    },
                    "username": {
                        "type": "string",
                        "description": "User's unique username. Cannot be changed after account creation."
                    },
                    "email": {
                        "type": "string",
                        "description": "User's email address. Used for notifications and account recovery."
                    },
                    "firstName": {
                        "type": "string",
                        "description": "User's first name. May be null if not provided during registration."
                    },
                    "lastName": {
                        "type": "string",
                        "description": "User's last name. May be null if not provided during registration."
                    },
                    "status": {
                        "$ref": "#/components/schemas/UserStatus"
                    },
                    "createdAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was created. ISO 8601 format.",
                        "format": "double"
                    },
                    "updatedAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was last updated. ISO 8601 format.",
                        "format": "double"
                    }
                },
                "required": [
                    "createdAt",
                    "email",
                    "status",
                    "updatedAt",
                    "userId",
                    "username"
                ]
            },
            "UserResponse": {
                "type": "object",
                "properties": {
                    "userId": {
                        "type": "string",
                        "description": "Unique identifier for the user account. Generated automatically upon creation."
                    },
                    "username": {
                        "type": "string",
                        "description": "User's unique username. Cannot be changed after account creation."
                    },
                    "email": {
                        "type": "string",
                        "description": "User's email address. Used for notifications and account recovery."
                    },
                    "firstName": {
                        "type": "string",
                        "description": "User's first name. May be null if not provided during registration."
                    },
                    "lastName": {
                        "type": "string",
                        "description": "User's last name. May be null if not provided during registration."
                    },
                    "status": {
                        "$ref": "#/components/schemas/UserStatus"
                    },
                    "createdAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was created. ISO 8601 format.",
                        "format": "double"
                    },
                    "updatedAt": {
                        "type": "number",
                        "description": "Timestamp when the user account was last updated. ISO 8601 format.",
                        "format": "double"
                    }
                },
                "required": [
                    "createdAt",
                    "email",
                    "status",
                    "updatedAt",
                    "userId",
                    "username"
                ]
            },
            "UserStatus": {
                "type": "string",
                "description": "Represents the current status of a user account",
                "enum": [
                    "ACTIVE",
                    "INACTIVE",
                    "SUSPENDED"
                ]
            },
            "ValidationErrorResponseContent": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    },
                    "field": {
                        "type": "string"
                    }
                },
                "required": [
                    "field",
                    "message"
                ]
            }
        }
    }
}
